gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "3sub",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
all_ms_subj
all_d_filtered <- read_csv("data/anonymized_data/no_dups_data_munged_A.csv")  %>%
mutate(condition = as.factor(condition),
exp = as.character(exp),
condition = fct_recode(condition,
three_basic = "3bas",
three_subordinate = "3sub",
three_superordinate = "3sup")) %>%
filter(condition == "one" | condition == "three_subordinate") %>%
select(exp, everything())
all_d_filtered %>%
distinct(exp, subids) %>%
summarize(n = n())
all_d %>%
distinct(exp, subids) %>%
summarize(n = n())
all_d_filtered %>%
left_join(exp_key %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "1 sub." | condition == "3 sub.",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
exp_key
all_d_filtered
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "1 sub." | condition == "3 sub.",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
all_ms_subj
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "1 sub." | condition == "3 sub.",
variable == 'prop_bas')
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "1 sub." | condition == "3 sub.",
variable == 'prop_bas') %>%
spread(condition, value)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "1 sub." | condition == "3 sub.",
variable == 'prop_bas')
head(all_ms_subj)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value))
levels(all_ms_subj$condition)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
head(all_ms_subj)
head(all_d_filtered)
head(all_d)
head(all_d_clean)
tail(all_d_clean)
all_d_clean <- all_d %>%
mutate(condition = as.factor(condition),
exp = as.character(exp),
condition = fct_recode(condition,
three_basic = "3bas",
three_subordinate = "3sub",
three_superordinate = "3sup")) %>%
filter(condition == "one" | condition == "three_subordinate") %>%
select(exp, everything())
head(all_d_clean)
all_d <- read_csv("../data/anonymized_data/all_data_munged_A.csv")
setwd("~/Documents/research/Projects/XTMEM/paper")
all_d <- read_csv("../data/anonymized_data/all_data_munged_A.csv")
all_d_filtered <- read_csv("../data/anonymized_data/no_dups_data_munged_A.csv")
all_d_clean <- all_d %>%
mutate(condition = as.factor(condition),
exp = as.character(exp),
condition = fct_recode(condition,
three_basic = "3bas",
three_subordinate = "3sub",
three_superordinate = "3sup")) %>%
filter(condition == "one" | condition == "three_subordinate") %>%
select(exp, everything())
head(all_d_clean)
ms <- all_d_clean %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
mutate(value = as.numeric(value)) %>%
filter(variable == "prop_bas") %>%
group_by(condition, exp, subids) %>%
summarize(value = mean(value))
# means across participants (condition means)
LF_means_wide <- ms %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
LF_means_wide
head(all_d)
head(ms)
ms %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n())
LF_means_wide <- ms %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
exp_key
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
# get effect sizes
LF_means <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(`1 sub.`),
sd_one = sd(`1 sub.`),
m_3sub = mean(`3 sub.`),
sd_3sub = sd(`3 sub.`),
n = n())
LF_effect_sizes <- LF_means %>%
do(data.frame(d = mes(.$m_one, .$m_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$d,
d_var = mes(.$m_one, .$sd_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$var.d)) %>%
mutate(high = d + (1.96*d_var),
low = d - (1.96*d_var),
es_type = "nonpaired",
exp_recoded = LF_means$exp_recoded) %>%
left_join(LF_means %>% select(exp_recoded, n)) %>%
select(exp_recoded, n, everything())
literature_effect_sizes <- read_csv("data/literature_ES.csv") # see ../../analysis/get_literature_ES.R
all_es <- literature_effect_sizes %>%
bind_rows(LF_effect_sizes) %>%
left_join(exp_key) %>%
mutate(source = ifelse(str_detect(exp_recoded, "XT"), "XT2007a",
ifelse(str_detect(exp_recoded, "SPSS"), "SPSS2011", "LF")),
source = fct_relevel(source, "XT2007a","SPSS2011","LF"),
source = as.numeric(source),
timing = fct_relevel(timing,"simultaneous", "sequential"))
setwd("~/Documents/research/Projects/XTMEM/paper/SI")
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
# get effect sizes
LF_means <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(`1 sub.`),
sd_one = sd(`1 sub.`),
m_3sub = mean(`3 sub.`),
sd_3sub = sd(`3 sub.`),
n = n())
LF_effect_sizes <- LF_means %>%
do(data.frame(d = mes(.$m_one, .$m_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$d,
d_var = mes(.$m_one, .$sd_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$var.d)) %>%
mutate(high = d + (1.96*d_var),
low = d - (1.96*d_var),
es_type = "nonpaired",
exp_recoded = LF_means$exp_recoded) %>%
left_join(LF_means %>% select(exp_recoded, n)) %>%
select(exp_recoded, n, everything())
literature_effect_sizes <- read_csv("data/literature_ES.csv") # see ../../analysis/get_literature_ES.R
all_es <- literature_effect_sizes %>%
bind_rows(LF_effect_sizes) %>%
left_join(exp_key) %>%
mutate(source = ifelse(str_detect(exp_recoded, "XT"), "XT2007a",
ifelse(str_detect(exp_recoded, "SPSS"), "SPSS2011", "LF")),
source = fct_relevel(source, "XT2007a","SPSS2011","LF"),
source = as.numeric(source),
timing = fct_relevel(timing,"simultaneous", "sequential"))
head(all_es)
head(all_d)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value) %>%
ungroup() %>%
select(-variable)
# get effect sizes
LF_means <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(`1 sub.`),
sd_one = sd(`1 sub.`),
m_3sub = mean(`3 sub.`),
sd_3sub = sd(`3 sub.`),
n = n())
head(all_ms_subj)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
exp_key <- read_csv("data/experiment_key.csv") %>%
mutate(order = gsub("\"", "", order),
exp = as.numeric(exp)
) %>%  # this is because excel is dumb, grrr
select(-preregistered)
```
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% mutate(exp = as.character(exp)) %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
head(all_ms_subj)
head(all_d_filtered)
exp_key
all_d_filtered
## key to experiment factors
exp_key <- read_csv("data/experiment_key.csv") %>%
mutate(order = gsub("\"", "", order),
exp = as.integer(exp)
) %>%  # this is because excel is dumb, grrr
select(-preregistered)
```
# means across participants (condition means)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
# means across participants (condition means)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
# means across participants (condition means)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
# means across participants (condition means)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
# means across participants (condition means)
LF_means_wide <- all_ms_subj %>%
spread(condition, value) %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
HEAD(all_ms_subj)
head(all_ms_subj)
LF_means_wide <- all_ms_subj %>%
group_by(exp) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
left_join(exp_key)
select(-variable)
LF_means_wide <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n()) %>%
select(-variable)
LF_means_wide <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n())
head(LF_means_wide)
head(all_ms_subj)
as.data.frame(all_ms_subj)
all_d_filtered <- read_csv("data/anonymized_data/no_dups_data_munged_A.csv")  %>%
mutate(condition = as.factor(condition),
condition = fct_recode(condition,
three_basic = "3bas",
three_subordinate = "3sub",
three_superordinate = "3sup")) %>%
filter(condition == "one" | condition == "three_subordinate") %>%
select(exp, everything())
all_ms_subj <- all_d_filtered %>%
left_join(exp_key %>% select(exp, exp_recoded)) %>%
select(-exp) %>%
gather(variable, value, c(prop_sub, prop_bas, prop_sup)) %>%
group_by(condition,variable, exp_recoded, subids) %>%
mutate(value = as.numeric(value)) %>%
summarize(value = mean(value)) %>%
filter(condition == "one" | condition == "three_subordinate",
variable == 'prop_bas') %>%
spread(condition, value)
LF_means_wide <- all_ms_subj %>%
group_by(exp_recoded) %>%
summarize(m_one = mean(one),
sd_one = sd(one),
m_3sub = mean(three_subordinate),
sd_3sub = sd(three_subordinate),
n = n())
LF_effect_sizes <- LF_means_wide %>%
do(data.frame(d = compute.es::mes(.$m_one, .$m_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$d,
d_var = compute.es::mes(.$m_one, .$sd_3sub, .$sd_one,
.$sd_3sub, .$n, .$n, verbose = F)$var.d)) %>%
mutate(high = d + (1.96*d_var),
low = d - (1.96*d_var),
es_type = "nonpaired",
exp_recoded = LF_means_wide$exp_recoded) %>%
left_join(LF_means_wide %>% select(exp_recoded, n)) %>%
select(exp_recoded, n, everything())
literature_effect_sizes <- read_csv("data/literature_ES.csv") # see ../../analysis/get_literature_ES.R
all_es <- literature_effect_sizes %>%
bind_rows(LF_effect_sizes) %>%
left_join(exp_key) %>%
mutate(source = ifelse(str_detect(exp_recoded, "XT"), "XT2007a",
ifelse(str_detect(exp_recoded, "SPSS"), "SPSS2011", "LF")),
source = fct_relevel(source, "XT2007a","SPSS2011","LF"),
source = as.numeric(source),
timing = fct_relevel(timing,"simultaneous", "sequential"))
?actionButton
exp_recoded
exp_key
exp_key
input$expnum
input$expnum = 1
m = 1
filter(exp_key, exp_recoded == m)$exp
m = 6
filter(exp_key, exp_recoded == m)$exp
?wellPanel
?htmlOutput
?selectInput
